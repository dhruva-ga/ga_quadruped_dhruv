<mujoco model="robot">
    <compiler angle="radian"/>
    <default>
        <default class="visual">
            <geom type="mesh" density="0.0" material="metal" contype="0" conaffinity="0" />
        </default>
        <default class="x8_90_abduction">
            <joint armature="0.0026" frictionloss="0.1" axis="0.0 -1 0.0" range="-0.78 0.78"/> <!-- Friction loss was 1.0 here after sys-id-->
            <position kp="70" kv="1.0" forcelimited="true" forcerange="-50 50"></position>
        </default>
        <default class="x8_90_rotation">
            <joint armature="0.0026" frictionloss="0.1" axis="1.0 0.0 0.0" range="-1.5 1.12"/>
            <position kp="100" kv="1.0" forcelimited="true" forcerange="-50 50"></position>
        </default>
        <default class="x8_90_knee">
            <joint armature="0.0026" frictionloss="0.1" axis="1.0 0.0 0.0" range="-0.52 1.83" />
            <position kp="100" kv="2.0" forcelimited="true" forcerange="-50 50"></position>
        </default>
        <default class="hard_contact">
            <!-- Critical-damped, very fast correction -->
            <geom solref="0.003 1" solimp="0.15 1 0.023" condim="6"
            friction="0.8 0.02 0.01"/>
        </default>
    </default>

    <visual>
        <global offheight="720" offwidth="1280" ellipsoidinertia="true" />
        <headlight diffuse="0.6 0.6 0.6" ambient="0.6 0.6 0.6" specular="0.1 0.1 0.1" />
        <rgba haze="0.15 0.25 0.35 1" />
        <quality shadowsize="4096" />
    </visual>

    <worldbody>
    <camera name="render_cam" pos="-4.677 -0.386 1.300" xyaxes="0.082 -0.997 0.000 0.263 0.022 0.965"/>
    <camera pos="0.057 2.955 0.751" xyaxes="-1.000 0.020 0.000 0.001 0.056 0.998" name="side_cam"/>

    <geom name="floor" type="plane" size="0 0 0.1" rgba="1.0 1.0 1.0 1" priority="1" material="groundplane"/>
    <!-- <body name="anchor" pos="0 0 0.2"/> -->
        <!-- Torso -->
        <body pos="0 0 0.52" name="base_link">
            <freejoint/>
            <site name="imu" type="sphere" size="0.01" />
            <!-- <inertial pos="-0.00000 -0.25000 0.00000" mass="5" fullinertia="0.182745 0.044360 0.219738 -0.00002 -0.00000 0.00000"/> -->
            <geom name="base_link" type="mesh" mesh="base_link" pos="0 0 0"
                material="metal" class="visual"/>

            <body name="mass_link" pos="0 -0.25 0">
                <inertial pos="0 0 0" mass="40" fullinertia="0.04 0.04 0.04 0 0 0"/>
                <geom name="mass_link" type="sphere" size="0.001" density="1000" rgba="0 0 0 0"/>
            </body>

            <!-- FL Leg -->
            <body name="fl_hip_abduction" pos="-0.11 0.053 4e-06">
                <!-- <inertial pos="-0.0004309332275169997 0.044346110809611906 0.000932953779785668" mass="1.4874016" fullinertia="0.003079 0.002006 0.002141 4.7e-05 -0.000112 3.8e-05"/> -->
                <inertial pos="-0.00043 0.04433 0.00093" mass="1.48740" fullinertia="0.00210 0.00129 0.00138 0.00004 0.00002 -0.00003"/>
                <joint name="fl_hip_joint" type="hinge" class="x8_90_abduction"/>
                <geom name="fl_hip_abduction" type="mesh" mesh="hip_abduction_2" pos="0.11 -0.053 -4e-06" material="silver" class="visual"/>

                <body name="fl_thigh_link" pos="-0.0274 0.058 0.0">
                    <!-- <inertial pos="-0.04502353377718382 -0.031770941187219987 -0.048576836839344904" mass="3.02521" fullinertia="0.029988 0.022358 0.012123 -0.002029 -0.011632 -0.003098"/> -->
                    <inertial pos="-0.04862 -0.03522 -0.05284" mass="3.02523" fullinertia="0.02422 0.01769 0.00936 -0.00161 -0.00236 -0.00970"/>
                    <joint name="fl_thigh_joint" type="hinge" class="x8_90_rotation"/>
                    <geom name="fl_thigh_link" type="mesh" mesh="thigh_link_4" pos="0.1374 -0.111 -4e-06" material="silver" class="visual"/>

                    <body name="fl_calf_link" pos="-0.0541 -0.15 -0.259808">
                        <!-- <inertial pos="-0.01099232401480943 0.0867484214836569 -0.13426639809513202" mass="1.2550938" fullinertia="0.013917 0.009421 0.00461 1e-06 0.006339 -2e-06"/> -->
                        <inertial pos="-0.01100 0.06260 -0.09658" mass="1.25509" fullinertia="0.02217 0.01543 0.00684 -0.00000 0.00001 0.01007"/>
                        <joint name="fl_calf_joint" type="hinge" class="x8_90_knee"/>
                        <geom name="fl_calf_link" type="mesh" mesh="calf_link_4" pos="0.1915 0.039 0.259804" material="silver" class="visual"/>
                        <geom name="fl_feet_collision" type="sphere" size="0.015" pos="-0.01 0.145 -0.24" density="0" rgba="0 0 1 1" class="hard_contact"/>
                    </body>
                </body>
            </body>

            <!-- FR Leg -->
            <body name="fr_hip_abduction" pos="0.11 0.053 4e-06">
                <!-- <inertial pos="0.00043093322878921814 0.04434611080961184 -0.000932737779882685" mass="1.4874016" fullinertia="0.003079 0.002006 0.002141 -4.7e-05 0.000112 3.8e-05"/> -->
                <inertial pos="0.00043 0.04433 -0.00093" mass="1.48740" fullinertia="0.00210 0.00129 0.00138 -0.00004 0.00002 0.00003"/>
                <joint name="fr_hip_joint" type="hinge" class="x8_90_abduction"/>
                <geom name="fr_hip_abduction" type="mesh" mesh="hip_abduction_1" pos="-0.11 -0.053 -4e-06" material="silver" class="visual"/>

                <body name="fr_thigh_link" pos="0.0274 0.058 0.0">
                    <!-- <inertial pos="0.0450236324463249 -0.03177109103705182 -0.048577156397139505" mass="3.02521" fullinertia="0.029988 0.022358 0.012123 0.002029 -0.011632 0.003098"/> -->
                    <inertial pos="0.04862 -0.03522 -0.05284" mass="3.02523" fullinertia="0.02422 0.01769 0.00936 0.00161 0.00236 -0.00970"/>
                    <joint name="fr_thigh_joint" type="hinge" class="x8_90_rotation"/>
                    <geom name="fr_thigh_link" type="mesh" mesh="thigh_link_2" pos="-0.1374 -0.111 -4e-06" material="silver" class="visual"/>

                    <body name="fr_calf_link" pos="0.0765 -0.15 -0.259808">
                        <!-- <inertial pos="-0.011007681099768907 0.08674844955210859 -0.13426644342647914" mass="1.2550938" fullinertia="0.013917 0.009421 0.00461 -1e-06 0.006339 2e-06"/> -->
                        <inertial pos="-0.01100 0.06260 -0.09658" mass="1.25509" fullinertia="0.02217 0.01543 0.00684 0.00000 -0.00001 0.01007"/>
                        <joint name="fr_calf_joint" type="hinge" class="x8_90_knee"/>
                        <geom name="fr_calf_link" type="mesh" mesh="calf_link_2" pos="-0.2139 0.039 0.259804" material="silver" class="visual"/>
                        <geom name="fr_feet_collision" type="sphere" size="0.015" pos="-0.01 0.145 -0.24" density="0" rgba="0 0 1 1" class="hard_contact"/>
                    </body>
                </body>
            </body>

            <!-- RL Leg -->
            <body name="rl_hip_abduction" pos="-0.11 -0.553 4e-06">
                <!-- <inertial pos="-0.0004309332275171107 -0.044346110809612815 -0.0009327377798869816" mass="1.4874016" fullinertia="0.003079 0.002006 0.002141 -4.7e-05 -0.000112 -3.8e-05"/> -->
                <inertial pos="-0.00043 -0.04433 -0.00093" mass="1.48740" fullinertia="0.00210 0.00129 0.00138 -0.00004 -0.00002 -0.00003"/>
                <joint name="rl_hip_joint" type="hinge" class="x8_90_abduction"/>
                <geom name="rl_hip_abduction" type="mesh" mesh="hip_abduction_3" pos="0.11 0.553 -4e-06" material="silver" class="visual"/>

                <body name="rl_thigh_link" pos="-0.0274 -0.058 0.0">
                    <!-- <inertial pos="-0.04502353377718382 -0.031770941187219987 -0.048576836839344904" mass="3.02521" fullinertia="0.029988 0.022358 0.012123 -0.002029 -0.011632 -0.003098"/> -->
                    <inertial pos="-0.04862 -0.03522 -0.05284" mass="3.02523" fullinertia="0.02422 0.01769 0.00936 -0.00161 -0.00236 -0.00970"/>
                    <joint name="rl_thigh_joint" type="hinge" class="x8_90_rotation"/>
                    <geom name="rl_thigh_link" type="mesh" mesh="thigh_link_3" pos="0.1374 0.611 -4e-06" material="silver" class="visual"/>

                    <body name="rl_calf_link" pos="-0.0541 -0.15 -0.259808">
                        <!-- <inertial pos="-0.01099232401480943 0.0867484214836569 -0.13426639809513202" mass="1.2550938" fullinertia="0.013917 0.009421 0.00461 1e-06 0.006339 -2e-06"/> -->
                        <inertial pos="-0.01100 0.06260 -0.09658" mass="1.25509" fullinertia="0.02217 0.01543 0.00684 -0.00000 0.00001 0.01007"/>
                        <joint name="rl_calf_joint" type="hinge" class="x8_90_knee"/>
                        <geom name="rl_calf_link" type="mesh" mesh="calf_link_3" pos="0.1915 0.761 0.259804" material="silver" class="visual"/>
                        <geom name="rl_feet_collision" type="sphere" size="0.015" pos="-0.01 0.145 -0.24" density="0" rgba="0 0 1 1" class="hard_contact"/>
                    </body>
                </body>
            </body>

            <!-- RR Leg -->
            <body name="rr_hip_abduction" pos="0.11 -0.553 4e-06">
                <!-- <inertial pos="0.00043093322878925977 -0.04434611080961226 0.0009329537797818719" mass="1.4874016" fullinertia="0.003079 0.002006 0.002141 4.7e-05 0.000112 -3.8e-05"/> -->
                <inertial pos="0.00043 -0.04433 0.00093" mass="1.48740" fullinertia="0.00210 0.00129 0.00138 0.00004 -0.00002 0.00003"/>
                <joint name="rr_hip_joint" type="hinge" class="x8_90_abduction"/>
                <geom name="rr_hip_abduction" type="mesh" mesh="hip_abduction_4" pos="-0.11 0.553 -4e-06" material="silver" class="visual"/>

                <body name="rr_thigh_link" pos="0.0274 -0.058 0.0">
                    <!-- <inertial pos="0.0450236324463249 -0.03177109103705182 -0.048577156397139505" mass="3.02521" fullinertia="0.029988 0.022358 0.012123 0.002029 -0.011632 0.003098"/> -->
                    <inertial pos="0.04862 -0.03522 -0.05284" mass="3.02523" fullinertia="0.02422 0.01769 0.00936 0.00161 0.00236 -0.00970"/>
                    <joint name="rr_thigh_joint" type="hinge"  class="x8_90_rotation" />
                    <geom name="rr_thigh_link" type="mesh" mesh="thigh_link_1" pos="-0.1374 0.611 -4e-06" material="silver" class="visual"/>

                    <body name="rr_calf_link" pos="0.0541 -0.15 -0.259808">
                        <!-- <inertial pos="0.010992318900231252 0.08674844955210803 -0.13426644342648236" mass="1.2550938" fullinertia="0.013917 0.009421 0.00461 -1e-06 0.006339 2e-06"/> -->
                        <inertial pos="0.01100 0.06260 -0.09658" mass="1.25509" fullinertia="0.02217 0.01543 0.00684 0.00000 -0.00001 0.01007"/>
                        <joint name="rr_calf_joint" type="hinge"  class="x8_90_knee"/>
                        <geom name="rr_calf_link" type="mesh" mesh="calf_link_1" pos="-0.1915 0.761 0.259804" material="silver" class="visual"/>
                        <geom name="rr_feet_collision" type="sphere" size="0.015" pos="0.01 0.145 -0.24" density="0" rgba="0 0 1 1" class="hard_contact"/>
                    </body>
                </body>
            </body>
        </body>
        <light pos="0 3 10" dir="0 -1 -1" diffuse="1 1 1" />
    </worldbody>

    <!-- <equality> -->
    <!-- Fix base to its initial pose (relative pose defaults to whatâ€™s in the XML) -->
    <!-- <weld name="fix_base" body1="base_link" body2="anchor"/>
    </equality> -->

    <contact>
    </contact>
    <actuator>
        <position name="hip_abduction_fl" joint="fl_hip_joint" class="x8_90_abduction"/>
        <position name="thigh_rotation_fl" joint="fl_thigh_joint" class="x8_90_rotation"/>
        <position name="calf_fl" joint="fl_calf_joint" class="x8_90_knee"/>
        <position name="hip_abduction_fr" joint="fr_hip_joint" class="x8_90_abduction"/>
        <position name="thigh_rotation_fr" joint="fr_thigh_joint" class="x8_90_rotation"/>
        <position name="calf_fr" joint="fr_calf_joint" class="x8_90_knee"/>
        <position name="hip_abduction_rl" joint="rl_hip_joint" class="x8_90_abduction"/>
        <position name="thigh_rotation_rl" joint="rl_thigh_joint" class="x8_90_rotation"/>
        <position name="calf_rl" joint="rl_calf_joint" class="x8_90_knee"/>
        <position name="hip_abduction_rr" joint="rr_hip_joint" class="x8_90_abduction"/>
        <position name="thigh_rotation_rr" joint="rr_thigh_joint" class="x8_90_rotation"/>
        <position name="calf_rr" joint="rr_calf_joint" class="x8_90_knee"/>
    </actuator>
    <sensor>
        <gyro site="imu" name="gyro" />
        <accelerometer site="imu" name="accelerometer" />
        <velocimeter site="imu" name="local_linvel" />
        <framepos objtype="site" objname="imu" name="torso_pos" />
        <framezaxis objtype="site" objname="imu" name="gravity_vector" />
        <framexaxis objtype="site" objname="imu" name="torso_x_axis_vec" />
        <framexaxis objtype="site" objname="imu" name="torso_y_axis_vec" />
        <framequat objtype="site" objname="imu" name="orientation" />
        <framelinvel objtype="site" objname="imu" name="global_linvel" />
    </sensor>
    
    <asset>
        <material name="metal" rgba="0.3 0.3 0.3 1" />
        <mesh name="base_link" file="meshes/base_link.stl"
            scale="0.001 0.001 0.001" />
        <mesh name="thigh_link_1" file="meshes/thigh_link1_1.stl"
            scale="0.001 0.001 0.001" />
        <mesh name="thigh_link_2" file="meshes/thigh_link2_1.stl"
            scale="0.001 0.001 0.001" />
        <mesh name="thigh_link_3" file="meshes/thigh_link3_1.stl"
            scale="0.001 0.001 0.001" />
        <mesh name="thigh_link_4" file="meshes/thigh_link4_1.stl"
            scale="0.001 0.001 0.001" />
        <mesh name="calf_link_1" file="meshes/calf_link1_1.stl"
            scale="0.001 0.001 0.001" />
        <mesh name="calf_link_2" file="meshes/calf_link2_1.stl"
            scale="0.001 0.001 0.001" />
        <mesh name="calf_link_3" file="meshes/calf_link3_1.stl"
            scale="0.001 0.001 0.001" />
        <mesh name="calf_link_4" file="meshes/calf_link4_1.stl"
            scale="0.001 0.001 0.001" />
        <mesh name="hip_abduction_4" file="meshes/hip_abduction4_1.stl"
            scale="0.001 0.001 0.001" />
        <mesh name="hip_abduction_1" file="meshes/hip_abduction_1.stl"
            scale="0.001 0.001 0.001" />
        <mesh name="hip_abduction_2" file="meshes/hip_abduction2_1.stl"
            scale="0.001 0.001 0.001" />
        <mesh name="hip_abduction_3" file="meshes/hip_abduction3_1.stl"
            scale="0.001 0.001 0.001" />

        <material name="silver" rgba="0.6 0.6 0.6 1" specular="0.6" shininess="0.8" />
        <material name="gray" rgba="0.1 0.1 0.1 1" specular="0.4" shininess="0.4" />
        <material name="black" rgba="0.1 0.1 0.1 1" specular="0.0" shininess="0.2" />

        <texture name="skybox" type="skybox" builtin="gradient" rgb1="0.3 0.5 0.7" rgb2="0 0 0"
            width="512" height="3072" />
        <texture name="groundplane_tex" type="2d" builtin="checker" mark="edge"
            rgb1="0.2 0.3 0.4" rgb2="0.1 0.2 0.3" markrgb="0.8 0.8 0.8"
            width="200" height="200" />
        <material name="groundplane" texture="groundplane_tex" texuniform="true" texrepeat="4 4"
            reflectance="0.35" rgba="0.3 0.3 0.35 1" />
    </asset>

</mujoco>
